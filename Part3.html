<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz - Rupixo</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>🎯 Daily Quiz</h2>

  <div id="quiz-box">
    <p id="question">Loading question...</p>
    <div id="options"></div>
  </div>

  <button onclick="loadQuiz()">🔄 Next Question</button>

  <!-- Rewarded Ad Placeholder -->
  <p>👉 Rewarded Ad Here (ad id here)</p>

  <script type="module">
    // Firebase Setup
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
    import { getDatabase, ref, get, child } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCdLSGdmzccLLVnCFTUYsU9vTa3z_2T9DY",
      authDomain: "rupixo-adc5e.firebaseapp.com",
      databaseURL: "https://rupixo-adc5e-default-rtdb.firebaseio.com/",
      projectId: "rupixo-adc5e",
      storageBucket: "rupixo-adc5e.firebasestorage.app",
      messagingSenderId: "79108214868",
      appId: "1:79108214868:web:507a557fdeb5de20d65dc1",
      measurementId: "G-F1D7GX94N1"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    async function loadQuiz() {
      const dbRef = ref(db);
      const snapshot = await get(child(dbRef, "quiz/q1"));
      if (snapshot.exists()) {
        const quiz = snapshot.val();
        document.getElementById("question").innerText = quiz.question;
        const optionsDiv = document.getElementById("options");
        optionsDiv.innerHTML = "";
        quiz.options.forEach(opt => {
          const btn = document.createElement("button");
          btn.innerText = opt;
          btn.onclick = () => alert(opt === quiz.answer ? "✅ Correct!" : "❌ Wrong!");
          optionsDiv.appendChild(btn);
        });
      }
    }
    loadQuiz();
  </script>
</body>
</html>
