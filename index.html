<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profta - Earn Rewards</title>
  <style>
    body { font-family: Arial, sans-serif; background: #0d1117; color: #fff; margin: 0; }
    header { background: #161b22; padding: 10px; display: flex; justify-content: space-between; align-items: center; }
    header h1 { color: #58a6ff; font-size: 20px; margin: 0; }
    header .coins { font-size: 16px; }
    .container { padding: 20px; }
    .card { background: #161b22; margin: 15px 0; padding: 15px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.5); }
    .card h2 { color: #58a6ff; margin-top: 0; }
    button { background: #238636; border: none; padding: 10px 15px; border-radius: 8px; color: #fff; font-size: 15px; cursor: pointer; }
    button:disabled { background: #555; }
    input { width: 100%; padding: 10px; margin: 8px 0; border-radius: 6px; border: 1px solid #444; background: #0d1117; color: #fff; }
    nav { position: fixed; bottom: 0; left: 0; width: 100%; background: #161b22; display: flex; justify-content: space-around; padding: 10px 0; }
    nav button { background: none; color: #58a6ff; border: none; font-size: 16px; }
    .hidden { display: none; }
  </style>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>
  <header>
    <h1>Profta</h1>
    <div class="coins">Coins: <span id="coinCount">0</span></div>
  </header>  <div class="container">
    <!-- Login/Register Screen -->
    <div id="authSection">
      <div class="card">
        <h2>Login</h2>
        <input type="email" id="loginEmail" placeholder="Email">
        <input type="password" id="loginPassword" placeholder="Password">
        <button onclick="login()">Login</button>
      </div>
      <div class="card">
        <h2>Register</h2>
        <input type="text" id="regName" placeholder="Name">
        <input type="email" id="regEmail" placeholder="Email">
        <input type="password" id="regPassword" placeholder="Password">
        <button onclick="register()">Register</button>
      </div>
      <!-- Banner Ad -->
      <div class="card"> <!-- Ad code here --> </div>
    </div><!-- Home Screen -->
<div id="homeSection" class="hidden">
  <div class="card">
    <h2>Daily Bonus</h2>
    <button id="daily10" onclick="claimDaily(10)">Claim 10 Coins (No Ad)</button>
    <button id="daily30" onclick="claimDaily(30,true)">Claim 30 Coins (Watch Ad)</button>
  </div>
  <!-- Banner Ad -->
  <div class="card"> <!-- Ad code here --> </div>

  <div class="card">
    <h2>Watch Ad & Earn</h2>
    <p>Watch ads and earn 10 coins each. Daily limit: 40 ads</p>
    <button onclick="watchAd()">Claim (Watch Ad)</button>
  </div>
  <!-- Banner Ad -->
  <div class="card"> <!-- Ad code here --> </div>
</div>

<!-- Redeem Screen -->
<div id="redeemSection" class="hidden">
  <div class="card">
    <h2>Redeem</h2>
    <p>3000 coins = ₹10 | 10000 coins = ₹50</p>
    <h3>UPI Redeem</h3>
    <input type="text" id="upiId" placeholder="Enter UPI ID">
    <button onclick="redeem('upi')">Redeem via UPI</button>

    <h3>Google Play Code</h3>
    <input type="text" id="gmailId" placeholder="Enter Gmail ID">
    <button onclick="redeem('gmail')">Redeem Google Play</button>
  </div>
  <!-- Banner Ad -->
  <div class="card"> <!-- Ad code here --> </div>
</div>

<!-- Profile Screen -->
<div id="profileSection" class="hidden">
  <div class="card">
    <h2>Your Profile</h2>
    <p>Name: <span id="profileName"></span></p>
    <p>Email: <span id="profileEmail"></span></p>
    <button onclick="logout()">Logout</button>
  </div>
</div>

  </div>  <nav class="hidden" id="bottomNav">
    <button onclick="showSection('home')">Home</button>
    <button onclick="showSection('redeem')">Redeem</button>
    <button onclick="showSection('profile')">Profile</button>
  </nav>  <script>
    // Firebase Config
    const firebaseConfig = {
      apiKey: "AIzaSyCdLSGdmzccLLVnCFTUYsU9vTa3z_2T9DY",
      authDomain: "rupixo-adc5e.firebaseapp.com",
      databaseURL: "https://rupixo-adc5e-default-rtdb.firebaseio.com",
      projectId: "rupixo-adc5e",
      storageBucket: "rupixo-adc5e.firebasestorage.app",
      messagingSenderId: "79108214868",
      appId: "1:79108214868:web:507a557fdeb5de20d65dc1",
      measurementId: "G-F1D7GX94N1"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    let currentUser = null;
    let today = new Date().toLocaleDateString();

    function register(){
      const name=document.getElementById('regName').value;
      const email=document.getElementById('regEmail').value;
      const pass=document.getElementById('regPassword').value;
      auth.createUserWithEmailAndPassword(email,pass).then(res=>{
        db.collection("users").doc(res.user.uid).set({
          name:name,email:email,coins:0,lastDaily:"",adsWatched:0
        });
        alert("Registered! Now login.");
      }).catch(e=>alert(e.message));
    }

    function login(){
      const email=document.getElementById('loginEmail').value;
      const pass=document.getElementById('loginPassword').value;
      auth.signInWithEmailAndPassword(email,pass).then(()=>{
        document.getElementById('authSection').classList.add('hidden');
        document.getElementById('homeSection').classList.remove('hidden');
        document.getElementById('bottomNav').classList.remove('hidden');
        loadUser();
      }).catch(e=>alert(e.message));
    }

    function loadUser(){
      auth.onAuthStateChanged(user=>{
        if(user){
          currentUser=user;
          db.collection("users").doc(user.uid).onSnapshot(doc=>{
            const data=doc.data();
            document.getElementById('coinCount').innerText=data.coins;
            document.getElementById('profileName').innerText=data.name;
            document.getElementById('profileEmail').innerText=data.email;
          });
        }
      });
    }

    function claimDaily(coins,isAd){
      db.collection("users").doc(currentUser.uid).get().then(doc=>{
        let data=doc.data();
        if(data.lastDaily===today){alert("Already claimed today!");return;}
        if(isAd){
          // Show rewarded ad here
          alert("Rewarded Ad Playing... (placeholder)"); // replace with ad code
        }
        db.collection("users").doc(currentUser.uid).update({
          coins:data.coins+coins,lastDaily:today
        });
        alert("Daily Bonus Claimed!");
      });
    }

    function watchAd(){
      db.collection("users").doc(currentUser.uid).get().then(doc=>{
        let d=doc.data();
        if(d.adsWatched>=40){alert("Daily limit reached");return;}
        // Show rewarded ad here
        alert("Rewarded Ad Playing... (placeholder)"); // replace with ad code
        db.collection("users").doc(currentUser.uid).update({
          coins:d.coins+10, adsWatched:d.adsWatched+1
        });
        alert("+10 coins earned");
      });
    }

    function redeem(type){
      db.collection("users").doc(currentUser.uid).get().then(doc=>{
        let d=doc.data();
        let amount=0;
        if(d.coins>=10000) amount=50;
        else if(d.coins>=3000) amount=10;
        else {alert("Not enough coins");return;}
        let info = (type==='upi') ? document.getElementById('upiId').value : document.getElementById('gmailId').value;
        if(!info){alert("Enter details");return;}
        db.collection("redeems").add({
          uid:currentUser.uid,type:type,info:info,amount:amount,date:new Date().toLocaleString()
        });
        alert("Redeem request submitted! Reward in 24h.");
      });
    }

    function showSection(sec){
      document.getElementById('homeSection').classList.add('hidden');
      document.getElementById('redeemSection').classList.add('hidden');
      document.getElementById('profileSection').classList.add('hidden');
      document.getElementById(sec+'Section').classList.remove('hidden');
    }

    function logout(){
      auth.signOut();
      location.reload();
    }
  </script></body>
</html>
